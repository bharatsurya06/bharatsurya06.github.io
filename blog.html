<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Include the consistent navigation bar -->
    <div id="navbar"></div>

    <div class="blog-section">
        <div class="blog-header">
            <h1>Blog</h1>
            <p>Explore my latest posts on Cryogenics for Dummies and FC Barcelona Match Reviews!</p>
            <div class="blog-category-buttons">
                <a href="cryogenics.html" class="blog-btn cryo-btn">Cryogenics for Dummies</a>
                <a href="barca.html" class="blog-btn barca-btn">FC Barcelona Match Reviews</a>
            </div>
            <h2 class="recent-posts-title">Recent Posts</h2>
        </div>
        <div class="blog-carousel-container">
            <button class="carousel-btn left" id="carousel-left"><i class="fas fa-chevron-left"></i></button>
            <div class="blog-carousel-viewport">
                <div class="blog-carousel" id="blog-carousel-js">
                    <!-- JS will render 3 cards here -->
                </div>
            </div>
            <button class="carousel-btn right" id="carousel-right"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Bharat Surya Chamarthi. All rights reserved.</p>
        </div>
    </footer>

    <script>
        fetch('components/navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });

        const blogPosts = [
            {
                image: 'assets/img/rocket1.jpg',
                category: 'Cryogenics for Dummies',
                categoryClass: 'cryo',
                title: 'Understanding the Basics of Cryogenics',
                excerpt: "Kickstart your journey into the world of cryogenics with this beginner-friendly guide. Learn what cryogenics is, its applications, and why it matters in today's world...",
                link: 'post1.html'
            },
            {
                image: 'assets/img/barca.jpg',
                category: 'FC Barcelona Match Review',
                categoryClass: 'barca',
                title: 'FC Barcelona vs Real Madrid: El Clásico Review',
                excerpt: "A creative and tactical breakdown of the latest El Clásico, featuring key moments, player performances, and what this means for Barcelona's season...",
                link: 'barca1.html'
            },
            {
                image: 'assets/img/features-light-1.jpg',
                category: 'Cryogenics for Dummies',
                categoryClass: 'cryo',
                title: 'Cryogenic Storage: Safety and Innovations',
                excerpt: "Explore the latest innovations and safety protocols in cryogenic storage, making the field safer and more efficient for everyone involved...",
                link: 'post2.html'
            },
            {
                image: 'assets/img/features-light-2.jpg',
                category: 'Cryogenics for Dummies',
                categoryClass: 'cryo',
                title: 'Applications of Cryogenics in Modern Industry',
                excerpt: "Discover how cryogenics is revolutionizing various industries and what the future holds...",
                link: 'post3.html'
            },
            {
                image: 'assets/img/features-light-3.jpg',
                category: 'FC Barcelona Match Review',
                categoryClass: 'barca',
                title: "Barça's Champions League Journey",
                excerpt: "A review of Barcelona's latest Champions League campaign and key takeaways...",
                link: 'barca2.html'
            }
        ];

        let carouselStart = 0;
        const visibleCards = 3;
        let isSliding = false;

        function renderCarousel() {
            const carousel = document.getElementById('blog-carousel-js');
            let cardsToShow = [];
            for (let i = -1; i < visibleCards + 1; i++) {
                const idx = (carouselStart + i + blogPosts.length) % blogPosts.length;
                const post = blogPosts[idx];
                cardsToShow.push(`
                    <div class="blog-card ${post.categoryClass}">
                        <div class="blog-card-image" style="background-image: url('${post.image}');"></div>
                        <a href="${post.link}" class="blog-hover-overlay" tabindex="-1">
                          <span class="read-full-blog">Read Full Blog</span>
                        </a>
                        <div class="blog-card-content">
                            <span class="blog-category ${post.categoryClass}">${post.category}</span>
                            <h2 class="blog-title">${post.title}</h2>
                            <p class="blog-excerpt">${post.excerpt}</p>
                        </div>
                    </div>
                `);
            }
            carousel.innerHTML = cardsToShow.join('');
            const cardWidth = document.querySelector('.blog-card').offsetWidth + 12;
            carousel.style.transition = 'none';
            carousel.style.transform = `translateX(-${cardWidth}px)`;
        }

        function moveCarousel(direction) {
            if (isSliding) return;
            isSliding = true;
            const carousel = document.getElementById('blog-carousel-js');
            const cardWidth = document.querySelector('.blog-card').offsetWidth + 12;
            carousel.style.transition = 'transform 0.6s cubic-bezier(.77,0,.18,1)';
            carousel.style.transform = `translateX(-${cardWidth * (1 + direction)}px)`;
            carousel.addEventListener('transitionend', onTransitionEnd, { once: true });
            function onTransitionEnd() {
                carouselStart = (carouselStart + direction + blogPosts.length) % blogPosts.length;
                renderCarousel();
                isSliding = false;
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            renderCarousel();
            document.getElementById('carousel-left').onclick = () => moveCarousel(-1);
            document.getElementById('carousel-right').onclick = () => moveCarousel(1);
            window.addEventListener('resize', () => renderCarousel());
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js" crossorigin="anonymous"></script>
</body>

</html>